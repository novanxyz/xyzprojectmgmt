<?xml version="1.0" encoding="UTF-8"?>

<deployment xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:jboss:bean-deployer bean-deployer_1_0.xsd"
    xmlns="urn:jboss:bean-deployer:2.0">

    <!-- Enable a JCA datasource available through JNDI -->
    <bean name="xyzprojectSessionFactory"
          class="org.jboss.resource.adapter.jdbc.local.LocalTxDataSource">
        <property name="jndiName">xyzprojectDatasource</property>

        <!-- HSQL DB -->
        <property name="driverClass">com.mysql.jdbc.Driver</property>
        <property name="connectionURL">jdbc:mysql://localhost:3306/xyzproject</property>
        <property name="userName">x</property>
        <property name="password">diinda</property>

        <property name="minSize">0</property>
        <property name="maxSize">10</property>
        <property name="blockingTimeout">1000</property>
        <property name="idleTimeout">100000</property>

        <property name="transactionManager"><inject bean="TransactionManager"/></property>
        <property name="cachedConnectionManager"><inject bean="CachedConnectionManager"/></property>
        <property name="initialContextProperties"><inject bean="InitialContextProperties"/></property>
    </bean>

    <bean name="xyzTestingDatasource" class="java.lang.Object">
        <constructor factoryMethod="getDatasource">
            <factory bean="xyzprojectSessionFactory"/>
        </constructor>
    </bean>

</deployment>

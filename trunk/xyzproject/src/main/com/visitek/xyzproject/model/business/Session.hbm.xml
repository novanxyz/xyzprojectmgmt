<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated 19 Jan 10 11:48:51 by Hibernate Tools 3.2.5.Beta -->
<hibernate-mapping>
    <class name="com.visitek.xyzproject.model.business.Session" entity-name="Session" 
    	table="sessions" lazy="true">
        <id type="java.lang.Long">
        	<column name="session_id"/>
			<generator class="native"/>
		</id>
		
		<property name="name" type="java.lang.String" unique="true">
			<column name="session_name"></column>
		</property>		
		<property name="ip" type="java.lang.String" >
			<column name="session_clientIP"/>
		</property>
		<property name="user" type="java.lang.String" >
			<column name="session_user"/>			
		</property>
		<property name="login" type="java.util.Date">
			<column name="session_login"/>
		</property>
		<property name="logout" type="java.util.Date">
			<column name="session_logout"/>
		</property>
    </class>
    <sql-query name="sessionById">
	  <return alias="s" class="com.visitek.xyzproject.model.business.Session"/>
	 <![CDATA[
		select * 
		from sessions
		where session_name = :session_id		
	 ]]>   
	</sql-query>
	<sql-query name="getUserSession">
	  <return alias="s" class="com.visitek.xyzproject.model.business.Session"/>
	 <![CDATA[
		select * 
		from sessions
		where user_id = :user_id
		and session_logout = null
	 ]]>   
	 </sql-query> 
</hibernate-mapping>
